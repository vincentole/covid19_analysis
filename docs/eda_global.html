<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>EDA - Global</title>

<script src="site_libs/header-attrs-2.7/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Covid-19 Analysis</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="eda_covid19.html">EDA</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">EDA - Global</h1>

</div>


<div id="setup" class="section level1">
<h1>Setup</h1>
<div id="packages" class="section level2">
<h2>Packages</h2>
<pre class="r"><code>library(tidyverse)
library(tidycovid19)
library(zoo)
library(knitr)
library(kableExtra)
library(naniar)</code></pre>
</div>
<div id="data" class="section level2">
<h2>Data</h2>
<p>Let’s do some feature engineering and look at the data structure:</p>
<pre class="r"><code>df &lt;- download_merged_data(cached = TRUE, silent = TRUE) %&gt;%
  group_by(country) %&gt;%
  mutate(
    # New daily confirmed cases
    new_confirmed = confirmed - lag(confirmed),
    # New daily confirmed cases per capita
    new_confirmed_pc = new_confirmed / population,
    # Cum confirmed cases per capita
    confirmed_pc = confirmed / population,
    
    # New daily deaths
    new_deaths = deaths - lag(deaths),
    # New daily deaths per capita
    new_deaths_pc = new_deaths / population,
    # Cum deaths per capita
    deaths_pc = deaths / population,
    
    # 7 Day moving averages for confirmed, deaths, and per capita
    ave_7d_new_confirmed = rollmean(new_confirmed, 7, na.pad=TRUE, align=&quot;right&quot;),
    ave_7d_new_deaths = rollmean(new_deaths, 7, na.pad=TRUE, align=&quot;right&quot;),
    ave_7d_new_confirmed_pc = rollmean(new_confirmed_pc, 7, na.pad=TRUE, align=&quot;right&quot;),
    ave_7d_new_deaths_pc = rollmean(new_deaths_pc, 7, na.pad=TRUE, align=&quot;right&quot;)
  ) %&gt;%
  ungroup()

glimpse(df, width = 100)</code></pre>
<pre><code>## Rows: 89,426
## Columns: 50
## $ iso3c                   &lt;chr&gt; &quot;ABW&quot;, &quot;ABW&quot;, &quot;ABW&quot;, &quot;ABW&quot;, &quot;ABW&quot;, &quot;ABW&quot;, &quot;ABW&quot;, &quot;ABW&quot;, &quot;ABW&quot;, &quot;AB~
## $ country                 &lt;chr&gt; &quot;Aruba&quot;, &quot;Aruba&quot;, &quot;Aruba&quot;, &quot;Aruba&quot;, &quot;Aruba&quot;, &quot;Aruba&quot;, &quot;Aruba&quot;, &quot;Ar~
## $ date                    &lt;date&gt; 2020-03-13, 2020-03-14, 2020-03-15, 2020-03-16, 2020-03-17, 2020-~
## $ confirmed               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ deaths                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ recovered               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ ecdc_cases              &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 4, 4, 4, 4, 12, 17, 19, 28, 28, 28, 50, 50, 5~
## $ ecdc_deaths             &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ~
## $ total_tests             &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ tests_units             &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ positive_rate           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ hosp_patients           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ icu_patients            &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ total_vaccinations      &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ soc_dist                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ mov_rest                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ pub_health              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ gov_soc_econ            &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ lockdown                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ apple_mtr_driving       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ apple_mtr_walking       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ apple_mtr_transit       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ gcmr_place_id           &lt;chr&gt; &quot;ChIJ23da4s84hY4RL4yBiT6KavE&quot;, &quot;ChIJ23da4s84hY4RL4yBiT6KavE&quot;, &quot;ChI~
## $ gcmr_retail_recreation  &lt;dbl&gt; -10, -23, -28, -28, -38, -65, -52, -53, -62, -70, -53, -55, -57, -~
## $ gcmr_grocery_pharmacy   &lt;dbl&gt; 40, 15, -13, 1, 8, -59, -5, -7, -19, -36, -19, -21, -20, -15, -3, ~
## $ gcmr_parks              &lt;dbl&gt; -4, -7, -6, -5, -18, -24, -41, -41, -52, -52, -48, -49, -56, -54, ~
## $ gcmr_transit_stations   &lt;dbl&gt; -5, -19, -18, -18, -27, -49, -40, -45, -54, -62, -60, -57, -60, -6~
## $ gcmr_workplaces         &lt;dbl&gt; 3, -3, -5, -21, -29, -74, -40, -41, -40, -46, -48, -51, -53, -55, ~
## $ gcmr_residential        &lt;dbl&gt; 1, 7, 6, 12, 15, 32, 21, 22, 21, NA, 24, 26, 27, 27, 25, 20, NA, 3~
## $ gtrends_score           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ gtrends_country_score   &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ region                  &lt;chr&gt; &quot;Latin America &amp; Caribbean &quot;, &quot;Latin America &amp; Caribbean &quot;, &quot;Latin~
## $ income                  &lt;chr&gt; &quot;High income&quot;, &quot;High income&quot;, &quot;High income&quot;, &quot;High income&quot;, &quot;High ~
## $ population              &lt;dbl&gt; 106314, 106314, 106314, 106314, 106314, 106314, 106314, 106314, 10~
## $ land_area_skm           &lt;dbl&gt; 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 1~
## $ pop_density             &lt;dbl&gt; 588.0278, 588.0278, 588.0278, 588.0278, 588.0278, 588.0278, 588.02~
## $ pop_largest_city        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ life_expectancy         &lt;dbl&gt; 76.152, 76.152, 76.152, 76.152, 76.152, 76.152, 76.152, 76.152, 76~
## $ gdp_capita              &lt;dbl&gt; 26630.21, 26630.21, 26630.21, 26630.21, 26630.21, 26630.21, 26630.~
## $ timestamp               &lt;dttm&gt; 2021-03-28 04:09:44, 2021-03-28 04:09:44, 2021-03-28 04:09:44, 20~
## $ new_confirmed           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ new_confirmed_pc        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ confirmed_pc            &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ new_deaths              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ new_deaths_pc           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ deaths_pc               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ ave_7d_new_confirmed    &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ ave_7d_new_deaths       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ ave_7d_new_confirmed_pc &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ ave_7d_new_deaths_pc    &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~</code></pre>
</div>
<div id="variable-definitions" class="section level2">
<h2>Variable Definitions</h2>
<p>The package provides some definitions for the variables:</p>
<pre class="r"><code>var_definitions &lt;- tidycovid19_variable_definitions %&gt;%
  select(var_name, var_def)

kable(var_definitions) %&gt;% 
  kableExtra::kable_styling() %&gt;%
  kableExtra::scroll_box(width = &quot;100%&quot;, height = &quot;300px&quot;)</code></pre>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; overflow-x: scroll; width:100%; ">
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
var_name
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
var_def
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
iso3c
</td>
<td style="text-align:left;">
ISO3c country code as defined by ISO 3166-1 alpha-3
</td>
</tr>
<tr>
<td style="text-align:left;">
country
</td>
<td style="text-align:left;">
Country name
</td>
</tr>
<tr>
<td style="text-align:left;">
date
</td>
<td style="text-align:left;">
Calendar date
</td>
</tr>
<tr>
<td style="text-align:left;">
confirmed
</td>
<td style="text-align:left;">
Confirmed Covid-19 cases as reported by JHU CSSE (accumulated)
</td>
</tr>
<tr>
<td style="text-align:left;">
deaths
</td>
<td style="text-align:left;">
Covid-19-related deaths as reported by JHU CSSE (accumulated)
</td>
</tr>
<tr>
<td style="text-align:left;">
recovered
</td>
<td style="text-align:left;">
Covid-19 recoveries as reported by JHU CSSE (accumulated)
</td>
</tr>
<tr>
<td style="text-align:left;">
ecdc_cases
</td>
<td style="text-align:left;">
Covid-19 cases as reported by ECDC (accumulated, weekly post 2020-12-14)
</td>
</tr>
<tr>
<td style="text-align:left;">
ecdc_deaths
</td>
<td style="text-align:left;">
Covid-19-related deaths as reported by ECDC (accumulated, weekly post 2020-12-14)
</td>
</tr>
<tr>
<td style="text-align:left;">
total_tests
</td>
<td style="text-align:left;">
Accumulated test counts as reported by Our World in Data
</td>
</tr>
<tr>
<td style="text-align:left;">
tests_units
</td>
<td style="text-align:left;">
Definition of what constitutes a ‘test’
</td>
</tr>
<tr>
<td style="text-align:left;">
positive_rate
</td>
<td style="text-align:left;">
The share of COVID-19 tests that are positive, given as a rolling 7-day average
</td>
</tr>
<tr>
<td style="text-align:left;">
hosp_patients
</td>
<td style="text-align:left;">
Number of COVID-19 patients in hospital on a given day
</td>
</tr>
<tr>
<td style="text-align:left;">
icu_patients
</td>
<td style="text-align:left;">
Number of COVID-19 patients in intensive care units (ICUs) on a given day
</td>
</tr>
<tr>
<td style="text-align:left;">
total_vaccinations
</td>
<td style="text-align:left;">
Total number of COVID-19 vaccination doses administered
</td>
</tr>
<tr>
<td style="text-align:left;">
soc_dist
</td>
<td style="text-align:left;">
Number of social distancing measures reported up to date by ACAPS, net of lifted restrictions
</td>
</tr>
<tr>
<td style="text-align:left;">
mov_rest
</td>
<td style="text-align:left;">
Number of movement restrictions reported up to date by ACAPS, net of lifted restrictions
</td>
</tr>
<tr>
<td style="text-align:left;">
pub_health
</td>
<td style="text-align:left;">
Number of public health measures reported up to date by ACAPS, net of lifted restrictions
</td>
</tr>
<tr>
<td style="text-align:left;">
gov_soc_econ
</td>
<td style="text-align:left;">
Number of social and economic measures reported up to date by ACAPS, net of lifted restrictions
</td>
</tr>
<tr>
<td style="text-align:left;">
lockdown
</td>
<td style="text-align:left;">
Number of lockdown measures reported up to date by ACAPS, net of lifted restrictions
</td>
</tr>
<tr>
<td style="text-align:left;">
apple_mtr_driving
</td>
<td style="text-align:left;">
Apple Maps usage for driving directions, as percentage*100 relative to the baseline of Jan 13, 2020
</td>
</tr>
<tr>
<td style="text-align:left;">
apple_mtr_walking
</td>
<td style="text-align:left;">
Apple Maps usage for walking directions, as percentage*100 relative to the baseline of Jan 13, 2020
</td>
</tr>
<tr>
<td style="text-align:left;">
apple_mtr_transit
</td>
<td style="text-align:left;">
Apple Maps usage for public transit directions, as percentage*100 relative to the baseline of Jan 13, 2020
</td>
</tr>
<tr>
<td style="text-align:left;">
gcmr_retail_recreation
</td>
<td style="text-align:left;">
Google Community Mobility Reports data for the frequency that people visit retail and recreation places expressed as a percentage*100 change relative to the baseline period Jan 3 - Feb 6, 2020
</td>
</tr>
<tr>
<td style="text-align:left;">
gcmr_grocery_pharmacy
</td>
<td style="text-align:left;">
Google Community Mobility Reports data for the frequency that people visit grocery stores and pharmacies expressed as a percentage*100 change relative to the baseline period Jan 3 - Feb 6, 2020
</td>
</tr>
<tr>
<td style="text-align:left;">
gcmr_parks
</td>
<td style="text-align:left;">
Google Community Mobility Reports data for the frequency that people visit parks expressed as a percentage*100 change relative to the baseline period Jan 3 - Feb 6, 2020
</td>
</tr>
<tr>
<td style="text-align:left;">
gcmr_transit_stations
</td>
<td style="text-align:left;">
Google Community Mobility Reports data for the frequency that people visit transit stations expressed as a percentage*100 change relative to the baseline period Jan 3 - Feb 6, 2020
</td>
</tr>
<tr>
<td style="text-align:left;">
gcmr_workplaces
</td>
<td style="text-align:left;">
Google Community Mobility Reports data for the frequency that people visit workplaces expressed as a percentage*100 change relative to the baseline period Jan 3 - Feb 6, 2020
</td>
</tr>
<tr>
<td style="text-align:left;">
gcmr_residential
</td>
<td style="text-align:left;">
Google Community Mobility Reports data for the frequency that people visit residential places expressed as a percentage*100 change relative to the baseline period Jan 3 - Feb 6, 2020
</td>
</tr>
<tr>
<td style="text-align:left;">
gtrends_score
</td>
<td style="text-align:left;">
Google search volume for the term ‘coronavirus’, relative across time with the country maximum scaled to 100
</td>
</tr>
<tr>
<td style="text-align:left;">
gtrends_country_score
</td>
<td style="text-align:left;">
Country-level Google search volume for the term ‘coronavirus’ over a period starting Jan 1, 2020, relative across countries with the country having the highest search volume scaled to 100 (time-stable)
</td>
</tr>
<tr>
<td style="text-align:left;">
region
</td>
<td style="text-align:left;">
Country region as classified by the World Bank (time-stable)
</td>
</tr>
<tr>
<td style="text-align:left;">
income
</td>
<td style="text-align:left;">
Country income group as classified by the World Bank (time-stable)
</td>
</tr>
<tr>
<td style="text-align:left;">
population
</td>
<td style="text-align:left;">
Country population as reported by the World Bank (original identifier ‘SP.POP.TOTL’, time-stable)
</td>
</tr>
<tr>
<td style="text-align:left;">
land_area_skm
</td>
<td style="text-align:left;">
Country land mass in square kilometers as reported by the World Bank (original identifier ‘AG.LND.TOTL.K2’, time-stable)
</td>
</tr>
<tr>
<td style="text-align:left;">
pop_density
</td>
<td style="text-align:left;">
Country population density as reported by the World Bank (original identifier ‘EN.POP.DNST’, time-stable)
</td>
</tr>
<tr>
<td style="text-align:left;">
pop_largest_city
</td>
<td style="text-align:left;">
Population in the largest metropolian area of the country as reported by the World Bank (original identifier ‘EN.URB.LCTY’, time-stable)
</td>
</tr>
<tr>
<td style="text-align:left;">
life_expectancy
</td>
<td style="text-align:left;">
Average life expectancy at birth of country citizens in years as reported by the World Bank (original identifier ‘SP.DYN.LE00.IN’, time-stable)
</td>
</tr>
<tr>
<td style="text-align:left;">
gdp_capita
</td>
<td style="text-align:left;">
Country gross domestic product per capita, measured in 2010 US-$ as reported by the World Bank (original identifier ‘NY.GDP.PCAP.KD’, time-stable)
</td>
</tr>
<tr>
<td style="text-align:left;">
timestamp
</td>
<td style="text-align:left;">
Date and time where data has been collected from authoritative sources
</td>
</tr>
</tbody>
</table>
</div>
<p><br />
</p>
</div>
</div>
<div id="missing-values-analysis" class="section level1">
<h1>Missing values analysis</h1>
<pre class="r"><code>vis_miss(df[,1:10])</code></pre>
<p><img src="eda_global_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<pre class="r"><code>vis_miss(df[,11:20])</code></pre>
<p><img src="eda_global_files/figure-html/unnamed-chunk-4-2.png" width="672" /></p>
<pre class="r"><code>vis_miss(df[,21:30])</code></pre>
<p><img src="eda_global_files/figure-html/unnamed-chunk-4-3.png" width="672" /></p>
<pre class="r"><code>vis_miss(df[,31:40])</code></pre>
<p><img src="eda_global_files/figure-html/unnamed-chunk-4-4.png" width="672" /></p>
<pre class="r"><code>vis_miss(df[,41:50])</code></pre>
<p><img src="eda_global_files/figure-html/unnamed-chunk-4-5.png" width="672" /><br />
We can see that some variables have a substantial amount of values missing. When comparing countries, we should check the specific availability of the variable for the specific country.</p>
<p>The package hast variables that show numbers of reported measures. Some variables of interest that have only 11.47% missing data are the following:</p>
<ul>
<li><code>soc_dist</code></li>
<li><code>mov_rest</code></li>
<li><code>pub_health</code></li>
<li><code>gov_soc_econ</code></li>
<li><code>lockdown</code></li>
</ul>
<p>Also of interest would be a time series of <code>total_tests</code>, <code>total_vaccinations</code>, <code>hosp_patients</code>, and <code>icu_patients</code>. Due to the large number of NA’s, an interpretation might not be very meaningful.</p>
<p>Further analysis per country might provide better data.</p>
</div>
<div id="eda---exploratory-data-analysis" class="section level1">
<h1>EDA - Exploratory Data Analysis</h1>
<div id="global-numbers" class="section level2">
<h2>Global Numbers</h2>
<p>Here a new <code>global_df</code> is generated for more control over the rolling mean and missing values.</p>
<div id="data-1" class="section level3">
<h3>Data</h3>
<pre class="r"><code>global_df &lt;- df %&gt;%
  group_by(date) %&gt;%
  summarize(
    global_confirmed = sum(confirmed, na.rm = TRUE), 
    global_deaths = sum(deaths, na.rm = TRUE),
    global_soc_dist = sum(soc_dist, na.rm = TRUE),
    global_mov_rest = sum(mov_rest, na.rm = TRUE),
    global_lockdown = sum(lockdown, na.rm = TRUE)
    ) %&gt;%
  mutate(
    global_new_confirmed = global_confirmed - lag(global_confirmed),
    global_new_deaths = global_deaths - lag(global_deaths),
    global_ave_7d_new_deaths = rollmean(global_new_deaths, 7, na.pad=TRUE, align=&quot;right&quot;),
    global_ave_7d_new_confirmed = rollmean(global_new_confirmed, 7, na.pad=TRUE, align=&quot;right&quot;)
  )

glimpse(global_df)</code></pre>
<pre><code>## Rows: 452
## Columns: 10
## $ date                        &lt;date&gt; 2019-12-31, 2020-01-01, 2020-01-02, 2020-~
## $ global_confirmed            &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ~
## $ global_deaths               &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ~
## $ global_soc_dist             &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ~
## $ global_mov_rest             &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ~
## $ global_lockdown             &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ~
## $ global_new_confirmed        &lt;dbl&gt; NA, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,~
## $ global_new_deaths           &lt;dbl&gt; NA, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,~
## $ global_ave_7d_new_deaths    &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 0.000000, 0.00~
## $ global_ave_7d_new_confirmed &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 0.00000, 0.000~</code></pre>
</div>
<div id="global-confirmed-cases" class="section level3">
<h3>Global Confirmed Cases</h3>
<pre class="r"><code>ggplot(global_df, aes(x = date)) +
  geom_col(aes(y = global_confirmed), alpha = 0.3) +
  labs(title = &quot;Global total confirmed cases&quot;, x = &quot;&quot;, y = &quot;&quot;)</code></pre>
<p><img src="eda_global_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<pre class="r"><code>ggplot(global_df, aes(x = date)) +
  geom_col(aes(y = global_new_confirmed), alpha = 0.3) +
  geom_line(aes(y = global_ave_7d_new_confirmed), color = &quot;red&quot;) +
  labs(title = &quot;7-day rolling mean\nGlobal daily cases&quot;, x = &quot;&quot;, y = &quot;&quot;) +
  ylim(0,800000)</code></pre>
<pre><code>## Warning: Removed 4 rows containing missing values (position_stack).</code></pre>
<pre><code>## Warning: Removed 7 row(s) containing missing values (geom_path).</code></pre>
<p><img src="eda_global_files/figure-html/unnamed-chunk-6-2.png" width="672" /></p>
</div>
<div id="global-deaths" class="section level3">
<h3>Global Deaths</h3>
<pre class="r"><code>ggplot(global_df, aes(x = date)) +
  geom_col(aes(y = global_deaths), alpha = 0.3) +
  labs(title = &quot;Global total deaths&quot;, x = &quot;&quot;, y = &quot;&quot;)</code></pre>
<p><img src="eda_global_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<pre class="r"><code>ggplot(global_df, aes(x = date)) +
  geom_col(aes(y = global_new_deaths), alpha = 0.3) +
  geom_line(aes(y = global_ave_7d_new_deaths), color = &quot;red&quot;) +
  labs(title = &quot;7-day rolling mean\nGlobal daily deaths&quot;, x = &quot;&quot;, y = &quot;&quot;)</code></pre>
<pre><code>## Warning: Removed 1 rows containing missing values (position_stack).</code></pre>
<pre><code>## Warning: Removed 7 row(s) containing missing values (geom_path).</code></pre>
<p><img src="eda_global_files/figure-html/unnamed-chunk-7-2.png" width="672" /><br />
</p>
</div>
<div id="other-global-variables" class="section level3">
<h3>Other Global Variables</h3>
<pre class="r"><code># Number of tests, vaccinations, and patients
ggplot(df, aes(x = date, y = total_tests), group = date) +
  geom_col() +
  labs(title = &quot;Global total tests&quot;)</code></pre>
<pre><code>## Warning: Removed 54451 rows containing missing values (position_stack).</code></pre>
<p><img src="eda_global_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<pre class="r"><code>ggplot(df, aes(x = date, y = total_vaccinations), group = date) +
  geom_col() +
  labs(title = &quot;Global total vaccinations&quot;)</code></pre>
<pre><code>## Warning: Removed 84649 rows containing missing values (position_stack).</code></pre>
<p><img src="eda_global_files/figure-html/unnamed-chunk-8-2.png" width="672" /></p>
<pre class="r"><code>ggplot(df, aes(x = date, y = hosp_patients), group = date) +
  geom_col() +
  labs(title = &quot;Global total hospital patients&quot;)</code></pre>
<pre><code>## Warning: Removed 79676 rows containing missing values (position_stack).</code></pre>
<p><img src="eda_global_files/figure-html/unnamed-chunk-8-3.png" width="672" /></p>
<pre class="r"><code>ggplot(df, aes(x = date, y = icu_patients), group = date) +
  geom_col() +
  labs(title = &quot;Global total icu patients&quot;)</code></pre>
<pre><code>## Warning: Removed 81287 rows containing missing values (position_stack).</code></pre>
<p><img src="eda_global_files/figure-html/unnamed-chunk-8-4.png" width="672" /></p>
<pre class="r"><code># Number of measures reported
ggplot(global_df, aes(x = date, y = global_soc_dist)) +
  geom_col() +
  labs(title = &quot;Global total social distancing measures&quot;)</code></pre>
<p><img src="eda_global_files/figure-html/unnamed-chunk-8-5.png" width="672" /></p>
<pre class="r"><code>ggplot(df, aes(x = date, y = mov_rest), group = date) +
  geom_col() +
  labs(title = &quot;Global total movement restriction measures&quot;)</code></pre>
<pre><code>## Warning: Removed 10257 rows containing missing values (position_stack).</code></pre>
<p><img src="eda_global_files/figure-html/unnamed-chunk-8-6.png" width="672" /></p>
<pre class="r"><code>ggplot(df, aes(x = date, y = pub_health), group = date) +
  geom_col() +
  labs(title = &quot;Global total public health measures&quot;)</code></pre>
<pre><code>## Warning: Removed 10257 rows containing missing values (position_stack).</code></pre>
<p><img src="eda_global_files/figure-html/unnamed-chunk-8-7.png" width="672" /></p>
<pre class="r"><code>ggplot(global_df, aes(x = date, y = global_lockdown), group = date) +
  geom_col() +
  labs(title = &quot;Global total lockdown measures&quot;)</code></pre>
<p><img src="eda_global_files/figure-html/unnamed-chunk-8-8.png" width="672" /></p>
</div>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
